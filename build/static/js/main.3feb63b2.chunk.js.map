{"version":3,"sources":["components/Person.js","components/Filter.js","components/InputForm.js","components/PersonForm.js","services/Persons.js","components/Success.js","components/ErrorMessage.js","App.js","index.js"],"names":["Person","name","number","onClick","className","Filter","text","search","updateSearch","value","onChange","InputForm","PersonForm","newN","newN2","handlenew","handlenew2","addName","name1","name2","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Success","message","ErrorMessage","App","useEffect","console","log","personService","allPersons","setPersons","catch","error","useState","persons","name_array","map","person","newName","setNewName","successMessage","setSuccessMessage","errorMessage","setErrorMessage","newNumber","setNewNumber","setSearchs","filter_persons","filter","toLowerCase","indexOf","event","target","preventDefault","newObj","includes","window","confirm","already_name","find","new_Obj","new_data","setTimeout","er","JSON","stringify","newPerson","concat","filter_persons2","deletePerson","Math","random","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3feb63b2.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Person =({name, number, onClick})=>{\n    return(\n        <li className=\"person\">{name} {number} <button className=\"deletebutton\" onClick={onClick}>delete</button></li>\n        \n    )\n}\n\nexport default Person;","import React from 'react'\n\n\nconst Filter =({text,search, updateSearch})=>{\n    return(\n        <div className=\"input\">\n            {text} <input \n        value ={search}\n        onChange={updateSearch}\n        />\n        </div>\n    )\n}\n\nexport default Filter;","import React from 'react'\n\nconst InputForm =({name, value, onChange})=>{\n    return(\n        <div className=\"input\">\n            {name}<input \n            value={value}\n            onChange={onChange}\n            />\n        </div>\n    )}\n\n\n\n\n\n\n\nexport default InputForm;","import React from 'react'\nimport InputForm from './InputForm'\n\nconst PersonForm =({newN, newN2,handlenew,handlenew2,addName, name1, name2})=>{\n \n    return(\n        <form onSubmit={addName}>\n        <InputForm name={name1} value={newN} onChange={handlenew}/>\n        <InputForm name={name2} value={newN2} onChange={handlenew2}/>\n        <div className=\"input\">\n          <button className=\"button\" type=\"submit\">add to phonebook</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm;","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePersons = id=>{\n    axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {  getAll, create, update,  deletePersons}\n","const Success = ({message})=>{\n    if (message === null){\n        return null\n    }\n\n    return (\n        <div className=\"success\">\n            {message}\n        </div>\n    )\n}\n\nexport default Success","const ErrorMessage = ({message})=>{\n    if (message === null){\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/Persons'\nimport Success from './components/Success'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  // fetching data from database\n  useEffect(()=>{\n    console.log('effect')\n    personService \n    .getAll()\n    .then(allPersons=>\n      setPersons(allPersons))\n    .catch(error => console.log(error));\n      \n  }, [])\n\n  // creating person hook\n  const [ persons, setPersons ] = useState([\n    { name: 'Arto Hellas', number: '040-123456' },\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\n    { name: 'Dan Abramov', number: '12-43-234345' },\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\n  ]) \n  const name_array = persons.map(person => person.name)\n  //creating name hook\n  const [ newName, setNewName ] = useState('')\n  \n  const handleNewName = (event)=>{\n  setNewName(event.target.value) }\n\n\n  //Creating success hook\n  const[ successMessage, setSuccessMessage] = useState(null)\n\n  //creating error hook\n  const[ errorMessage, setErrorMessage] = useState(null)\n  //adding persons to the database\n  const addName = (event)=>{\n    event.preventDefault()\n\n      const newObj = {\n      name: newName,\n      number: newNumber\n    }\n    if (name_array.includes(newName)){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\n        const already_name =persons.find(name=>name.name === newName)\n        const new_Obj = {...already_name, number : newNumber}\n        console.log(already_name.id)\n        personService\n        .update(already_name.id, new_Obj)\n        .then(new_data=>{\n          setPersons(persons.map(person=> person.id!==already_name.id ? person : new_data))\n        \n          setSuccessMessage(`Added ${newName}`)\n          setTimeout(()=>{\n            setSuccessMessage(null)\n          },5000)\n        })\n        .catch(error=> {\n          let er = `${JSON.stringify(error.response.data.error)}`\n          setErrorMessage(er)\n        setTimeout(()=>{\n          setErrorMessage(null)\n        },5000)\n      })\n        setNewName('')\n        setNewNumber('')\n        \n        \n        \n\n      }else{\n        setNewName('')\n        setNewNumber('')\n      }\n\n    }\n    else{ personService\n      .create(newObj)\n      .then(newPerson=>{\n        setPersons(persons.concat(newPerson))\n        \n        setSuccessMessage(`Added ${newName}`)\n        setTimeout(()=>{\n          setSuccessMessage(null)\n        },5000)\n      })\n        .catch(error=> {\n           let er = `${JSON.stringify(error.response.data.error)}`\n          setErrorMessage(er)\n          console.log(error.response)\n          \n        setTimeout(()=>{\n          setErrorMessage(null)\n        },5000)\n      })\n        setNewName('')\n        setNewNumber('')\n    }\n   \n  } \n   \n\n  \n  //creating number hook\n  const [ newNumber, setNewNumber] = useState('')\n  const handleNewNumber = (event)=>{\n\n    setNewNumber(event.target.value) }\n  \n  //creating search state\n  const[search, setSearchs] = useState('')\n  const updateSearch = (event)=>{\n    setSearchs(event.target.value)\n  }\n  //searching for person from search bar\n  let filter_persons = persons.filter(person=>person.name.toLowerCase().indexOf(search.toLowerCase())!==-1)\n\n  //creating a function for delete person\n  const deletePerson =(event)=>{\n    if (window.confirm(`Are you sure, you want to delete ${event.name}`)) {\n      console.log('it works!!!');\n      personService\n      .deletePersons(event.id)\n      let filter_persons2 = filter_persons.filter(person=> person.id !== event.id)\n      setPersons(filter_persons2)\n\n    }\n    console.log(persons)\n  }\n\n\n  return (\n    <div>\n      <h2>Welcome to the Phonebook</h2>\n      <Success message={successMessage}/>\n      <ErrorMessage message={errorMessage} />\n        <Filter text={\"filter shown with\"} search={search} updateSearch={updateSearch}/>\n        <h2>Add a new entry</h2>\n      <PersonForm addName={addName} newN={newName} newN2={newNumber} handlenew={handleNewName} handlenew2={handleNewNumber} name1={\"name : \"} name2={\"number : \"}/>\n      <h2>Numbers</h2>\n      {filter_persons.map(person=>\n        <Person key={Math.random()}name ={person.name} number={person.number} onClick={()=>deletePerson(person)}/>\n        )}\n    </div>\n  )\n}\n\nexport default App\n\n\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}